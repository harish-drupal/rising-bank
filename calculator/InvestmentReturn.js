KJE.InvestmentReturnCalc=function(){this.MSG_EXCEEDS_LIMIT=KJE.parameters.get("MSG_EXCEEDS_LIMIT","Investment total exceeds 120 trillion.");this.MSG_INFLATION_BEFORE=KJE.parameters.get("MSG_INFLATION_BEFORE","before");this.MSG_INFLATION_AFTER=KJE.parameters.get("MSG_INFLATION_AFTER","after");this.catsBold=new Array(3);this.cats=new Array(100);var a=this.cats;for(var b=0;b<100;b++){a[b]=""+b}this.sSchedule=new KJE.Repeating()};KJE.InvestmentReturnCalc.prototype.clear=function(){this.YEARS=0;this.RATE_OF_RETURN=0;this.INITIAL_INVESTMENT=0;this.INFLATION_RATE=0;this.ANNUAL_INVESTMENTS=0;this.TAX_RATE=0;this.SHOW_VALUE_AFTER_INFLATION=0;this.ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION=0};KJE.InvestmentReturnCalc.prototype.calculate=function(m){var d=KJE;var e=this.YEARS;var f=this.RATE_OF_RETURN;var r=this.INITIAL_INVESTMENT;var g=this.INFLATION_RATE;var c=this.ANNUAL_INVESTMENTS;var i=this.TAX_RATE;var k=this.SHOW_VALUE_AFTER_INFLATION;var a=this.ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION;var l=0;var p=0;var o=0;var j=0;var q=Math.round(e+1);this.DF_CAPITAL=KJE.FloatArray(q);this.DF_SIMPLE_INTEREST=KJE.FloatArray(q);this.DF_COMPOUND_INTEREST=KJE.FloatArray(q);this.DF_TOTAL=KJE.FloatArray(q);this.DF_ANNUAL_CONTRIBUTION=KJE.FloatArray(q);this.DF_TAXES=KJE.FloatArray(q);this.DF_SIMPLE_INTEREST_LINE=KJE.FloatArray(q);if(m){var h=this.sSchedule;h.clearRepeat();h.addHeader(h.sReportCol("<br>Year",1),h.sReportCol("Annual<br>investment",2),(!KJE.bHT?h.sReportCol("<br>Taxes",3):null),h.sReportCol("<br>Net Return",4),h.sReportCol("<br>Total",5))}for(var b=0;b<q;b++){if(b==0){o=r;l=0;p=0;this.DF_ANNUAL_CONTRIBUTION[b]=0;j=o}else{if(a>0){this.DF_ANNUAL_CONTRIBUTION[b]=KJE.FV_AMT(g/100,b-1,c)}else{this.DF_ANNUAL_CONTRIBUTION[b]=c}o+=this.DF_ANNUAL_CONTRIBUTION[b];this.DF_TAXES[b]=(j+this.DF_ANNUAL_CONTRIBUTION[b])*(1+((f/100)));j=(j+this.DF_ANNUAL_CONTRIBUTION[b])*(1+((f/100)*(1-i/100)));this.DF_TAXES[b]-=j;p+=o*((f/100)*(1-i/100));l=j-p-o}if(k>0){this.DF_CAPITAL[b]=KJE.NPV_AMT(g/100,b,o);this.DF_TOTAL[b]=KJE.NPV_AMT(g/100,b,j);this.DF_SIMPLE_INTEREST[b]=KJE.NPV_AMT(g/100,b,p);this.DF_COMPOUND_INTEREST[b]=KJE.NPV_AMT(g/100,b,l);this.DF_ANNUAL_CONTRIBUTION[b]=KJE.NPV_AMT(g/100,b,this.DF_ANNUAL_CONTRIBUTION[b]);this.DF_TAXES[b]=KJE.NPV_AMT(g/100,b,this.DF_TAXES[b])}else{this.DF_CAPITAL[b]=o;this.DF_SIMPLE_INTEREST[b]=p;this.DF_COMPOUND_INTEREST[b]=l;this.DF_TOTAL[b]=j}this.DF_SIMPLE_INTEREST_LINE[b]=this.DF_SIMPLE_INTEREST[b]+this.DF_CAPITAL[b];if(m){h.addRepeat(d.number(b),d.dollars(this.DF_ANNUAL_CONTRIBUTION[b],2),(!KJE.bHT?d.dollars(this.DF_TAXES[b],2):null),d.dollars(this.DF_TOTAL[b]-(b>0?this.DF_TOTAL[b-1]:this.DF_CAPITAL[b])-this.DF_ANNUAL_CONTRIBUTION[b],2),d.dollars(this.DF_TOTAL[b],2))}}if(k>0){o=KJE.NPV_AMT(g/100,e,o);j=KJE.NPV_AMT(g/100,e,j);p=KJE.NPV_AMT(g/100,e,p);l=KJE.NPV_AMT(g/100,e,l)}if(j>120000000000000){throw (this.MSG_EXCEEDS_LIMIT)}this.catsBold[0]=""+d.dollars(p);this.catsBold[1]=""+d.dollars(l);this.catsBold[2]=""+d.dollars(o);this.COMPOUNDED_INTEREST_RETURN=l;this.SIMPLE_INTEREST_RETURN=p;this.TOTAL_INVESTED_CAPITAL=o;this.INVESTMENT_FINAL_TOTAL=j};KJE.InvestmentReturnCalc.prototype.formatReport=function(b){var c=KJE;var a=this.iDecimal;var d=b;d=KJE.replace("YEARS",c.number(this.YEARS),d);d=KJE.replace("RATE_OF_RETURN",c.percent(this.RATE_OF_RETURN/100,1),d);d=KJE.replace("INITIAL_INVESTMENT",c.dollars(this.INITIAL_INVESTMENT,2),d);d=KJE.replace("INFLATION_RATE",c.percent(this.INFLATION_RATE/100,2),d);d=KJE.replace("ANNUAL_INVESTMENTS",c.dollars(this.ANNUAL_INVESTMENTS,2),d);d=KJE.replace("TAX_RATE",c.percent(this.TAX_RATE/100,1),d);d=KJE.replace("COMPOUNDED_INTEREST_RETURN",c.dollars(this.COMPOUNDED_INTEREST_RETURN,2),d);d=KJE.replace("SIMPLE_INTEREST_RETURN",c.dollars(this.SIMPLE_INTEREST_RETURN,2),d);d=KJE.replace("TOTAL_INVESTED_CAPITAL",c.dollars(this.TOTAL_INVESTED_CAPITAL,2),d);d=KJE.replace("INVESTMENT_FINAL_TOTAL",c.dollars(this.INVESTMENT_FINAL_TOTAL,2),d);d=KJE.replace("SHOW_VALUE_AFTER_INFLATION",c.yesno(this.SHOW_VALUE_AFTER_INFLATION),d);d=KJE.replace("ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION",c.yesno(this.ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION),d);d=KJE.replace("MSG_INFLATION_ACCOUNT",(this.SHOW_VALUE_AFTER_INFLATION?this.MSG_INFLATION_AFTER:this.MSG_INFLATION_BEFORE),d);d=d.replace("**REPEATING GROUP**",this.sSchedule.getRepeat());this.sSchedule.clearRepeat();return d};KJE.CalcName="Investment Returns";KJE.CalculatorTitleTemplate="Investment totals KJE1 after KJE2 years.";KJE.parseInputs=function(a){return a};KJE.initialize=function(){KJE.CalcControl=new KJE.InvestmentReturnCalc();KJE.GuiControl=new KJE.InvestmentReturn(KJE.CalcControl)};KJE.InvestmentReturn=function(f){var e=KJE;var c=KJE.gLegend;var b=KJE.inputs.items;KJE.NumberSlider("YEARS","Years",1,100,0);KJE.InvestRateSlider("RATE_OF_RETURN","Rate of return");KJE.DollarSlider("INITIAL_INVESTMENT","Initial investment",0,10000000,0,0,3);KJE.InflationRateSlider("INFLATION_RATE","Expected inflation rate");KJE.DollarSlider("ANNUAL_INVESTMENTS","Annual investment",0,10000000,0,0,1);KJE.PercentSlider("TAX_RATE","Tax rate",0,75,1);KJE.Checkbox("SHOW_VALUE_AFTER_INFLATION","Show values after inflation",false,"Check here to show all totals after inflation");KJE.Checkbox("ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION","Inflation adjustment",false,"Check here to increase your annual investments with inflation");this.MSG_COMPOUND_INTEREST=KJE.parameters.get("MSG_COMPOUND_INTEREST","Compound interest")+" ";this.MSG_SIMPLE_INTEREST=KJE.parameters.get("MSG_SIMPLE_INTEREST","Simple interest")+" ";this.MSG_CAPITAL=KJE.parameters.get("MSG_CAPITAL","Invested capital")+" ";var a=KJE.gNewGraph(KJE.gLINE,"GRAPH1",true,false,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH_TITLE","Annual Investment Returns"));a._legend._iOrientation=(c.TOP_RIGHT);a._iArea=KJE.gGraphLine.AREA_ALL;var d=KJE.parameters.get("MSG_DROPPER_TITLE","Investment returns Inputs:");KJE.addDropper(new KJE.Dropper("INPUTS",true,d,d),KJE.colorList[0])};KJE.InvestmentReturn.prototype.setValues=function(b){var a=KJE.inputs.items;b.SHOW_VALUE_AFTER_INFLATION=a.SHOW_VALUE_AFTER_INFLATION.getValue();b.ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION=a.ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION.getValue();b.INITIAL_INVESTMENT=a.INITIAL_INVESTMENT.getValue();b.ANNUAL_INVESTMENTS=a.ANNUAL_INVESTMENTS.getValue();b.YEARS=a.YEARS.getValue();b.RATE_OF_RETURN=a.RATE_OF_RETURN.getValue();b.INFLATION_RATE=a.INFLATION_RATE.getValue();b.TAX_RATE=a.TAX_RATE.getValue()};KJE.InvestmentReturn.prototype.refresh=function(e){var d=KJE;var c=KJE.gLegend;var b=KJE.inputs.items;var a=KJE.gGraphs[0];KJE.setTitleTemplate(d.dollars(e.INVESTMENT_FINAL_TOTAL),d.number(e.YEARS));a.removeAll();a.setGraphCategories(e.cats);a.add(new KJE.gGraphDataSeries(e.DF_TOTAL,this.MSG_COMPOUND_INTEREST,a.getColor(3),e.catsBold[1],this.MSG_COMPOUND_INTEREST+" "+KJE.MSG_YEAR_LBL));a.add(new KJE.gGraphDataSeries(e.DF_SIMPLE_INTEREST_LINE,this.MSG_SIMPLE_INTEREST,a.getColor(2),e.catsBold[0],this.MSG_SIMPLE_INTEREST+" "+KJE.MSG_YEAR_LBL));a.add(new KJE.gGraphDataSeries(e.DF_CAPITAL,this.MSG_CAPITAL,a.getColor(1),e.catsBold[2],this.MSG_CAPITAL+" "+KJE.MSG_YEAR_LBL));a.paint()};KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <div id='KJE-C-YEARS'><input id='KJE-YEARS' /></div> <div id='KJE-C-RATE_OF_RETURN'><input id='KJE-RATE_OF_RETURN' /></div> <div id='KJE-C-INITIAL_INVESTMENT'><input id='KJE-INITIAL_INVESTMENT' /></div> <div id='KJE-C-ANNUAL_INVESTMENTS'><input id='KJE-ANNUAL_INVESTMENTS' /></div> <div id='KJE-C-INFLATION_RATE'><input id='KJE-INFLATION_RATE' /></div> <div id='KJE-C-TAX_RATE'><input id='KJE-TAX_RATE' /></div> <div id='KJE-C-ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION'><input id='KJE-ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION' type=checkbox name='ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION' /></div> <div id='KJE-C-SHOW_VALUE_AFTER_INFLATION'><input id='KJE-SHOW_VALUE_AFTER_INFLATION' type=checkbox name='SHOW_VALUE_AFTER_INFLATION' /></div> <div style=\"height:10px\"></div> </div> **GRAPH1** ";KJE.DefinitionText=" <div id='KJE-D-YEARS' ><dt>Years</dt><dd>The number of years you wish to analyze. This can be any number from one to one hundred.</dd></div> <div id='KJE-D-RATE_OF_RETURN' ><dt>Rate of return</dt><dd>This is the annually compounded rate of return you expect from your investments before taxes. **ROR_DEFINITION**</dd></div> <div id='KJE-D-INITIAL_INVESTMENT' ><dt>Initial investment</dt><dd>Total you currently have invested that should be included in this analysis.</dd></div> <div id='KJE-D-ANNUAL_INVESTMENTS' ><dt>Annual investments</dt><dd>The amount you will contribute each year to your investments. If you check the box to adjust this amount for inflation, your annual investment will increase each year by the inflation rate.<p> <!--STARTHIDETAXES--></dd></div> <div id='KJE-D-INFLATION_RATE' ><dt>Inflation rate</dt><dd>**INFLATION_DEFINITION**</dd></div> <div id='KJE-D-TAX_RATE' ><dt>Tax rate</dt><dd>The percentage of your investment return you will pay in taxes. Your taxes are assumed to be payable annually, at the end of the year.<p> <!--ENDHIDETAXES--></dd></div> <div id='KJE-D-ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION' ><dt>Inflation adjustment</dt><dd>Check this box to increase your future investment amounts for inflation.</dd></div> <div id='KJE-D-SHOW_VALUE_AFTER_INFLATION' ><dt>Show values after inflation</dt><dd>Check this box to show all totals after inflation. By choosing this option you will see the value of your investments in terms of purchasing power, if you had that amount available today.</dd></div> <div><dt>Compound Interest</dt><dd>Interest on an investment's interest, plus previous interest. The more frequently this occurs, the sooner your accumulated interest will generate additional interest. You should check with your financial institution to find out how often interest is being compounded on your particular investment.</dd></div> <div><dt>Compounded interest return</dt><dd>Total after-tax return if your investment profit is compounded annually.</dd></div> <div><dt>Simple interest return</dt><dd>Total after-tax return if your investment profit is simple interest with no compounding.</dd></div> <div><dt>Total invested capital</dt><dd>Total you have invested. This includes your initial investment and all periodic investments.</dd></div> <div><dt>Investment final total</dt><dd>Your investments total ending value. If you have checked the box to show values after inflation, this amount is the total value of your investment in today's dollars. If this box is unchecked, it will show the actual value of the investment.</dd></div> ";KJE.ReportText=' <!--HEADING "Investment Returns" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>After YEARS years you could have INVESTMENT_FINAL_TOTAL.</h2> Your original investment of INITIAL_INVESTMENT plus your annual investments of ANNUAL_INVESTMENTS could be worth INVESTMENT_FINAL_TOTAL after YEARS years. This assumes an annual rate of return of RATE_OF_RETURN and all of your annual investments happen at the beginning of the year. All values are shown MSG_INFLATION_ACCOUNT inflation is taken into account. **GRAPH** <div class=KJEReportTableDiv><table class=KJEReportTable> <tr class=KJEHeaderRow><th class=KJEHeading COLSPAN=2>Input Summary</th></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder KJECell60">Years </td><td class="KJECell KJECell40"> YEARS </td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder ">Rate of return </td><td class="KJECell"> RATE_OF_RETURN </td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder ">Initial investment </td><td class="KJECell"> INITIAL_INVESTMENT </td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder ">Annual investments </td><td class="KJECell"> ANNUAL_INVESTMENTS </td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder ">Inflation rate </td><td class="KJECell"> INFLATION_RATE </td></tr><!--STARTHIDETAXES--> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder ">Tax rate </td><td class="KJECell"> TAX_RATE </td></tr><!--ENDHIDETAXES--> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder ">Adjust annual investment for inflation? </td><td class="KJECell"> ADJUST_ANNUAL_INVESTMENT_FOR_INFLATION </td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder ">Show all values after inflation? </td><td class="KJECell"> SHOW_VALUE_AFTER_INFLATION </td></tr></table> </div> <div class=KJEReportTableDiv><table class=KJEReportTable> <tr class=KJEHeaderRow><th class=KJEHeading COLSPAN=2>Results Summary</th></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder KJECell60">Compounded interest return </td><td class="KJECell KJECell40"> COMPOUNDED_INTEREST_RETURN </td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder ">Simple interest return </td><td class="KJECell"> SIMPLE_INTEREST_RETURN </td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder ">Total invested capital </td><td class="KJECell"> TOTAL_INVESTED_CAPITAL </td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder ">Investment final total </td><td class="KJECell"> INVESTMENT_FINAL_TOTAL </td></tr></table> </div> <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Investment Balance by Year</h2> **REPEATING GROUP** ';